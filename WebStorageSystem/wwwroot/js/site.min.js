tippy(document.querySelectorAll(".tippy"));$(document).ready(function(){$(".selectTwo").select2({theme:"bootstrap4"});$(".selectTwoAllowClear").select2({theme:"bootstrap4",allowClear:!0})});$("#set-current-time").click(function(){$("#dt-lastCheck").val(moment().format("YYYY-MM-DDTHH:mm"))});$("#deleteRestoreModal").on("show.bs.modal",function(n){const i=$(n.relatedTarget).data("url"),u=$(n.relatedTarget).data("name"),r=i.split("/");let t=r[2];t==="Delete"||t==="Restore"||(t=r[3]);$(this).find(".modal-header h5").text(t);$(this).find(".modal-body span").text(t.toLowerCase());$(this).find(".modal-body b").text(u);$(this).find(".modal-footer .btn-danger").text(t);$(this).find(".modal-footer form").attr("action",i)});$(function(){$("#errorModal").modal("show")});$(document).ready(function(){if($("#dtDefect").length!==0)var n=[{data:"DefectNumber",searchable:!0,orderable:!0,responsivePriority:1,render:$.fn.dataTable.render.text()},{data:"Unit.InventoryNumber",searchable:!0,orderable:!0,responsivePriority:2,render:$.fn.dataTable.render.text()},{data:"Unit.Product.Manufacturer.Name",searchable:!0,orderable:!0,responsivePriority:20,render:$.fn.dataTable.render.text()},{data:"Unit.Product.Name",searchable:!0,orderable:!0,responsivePriority:21,render:$.fn.dataTable.render.text()},{data:"Unit.Product.ProductType.Name",searchable:!0,orderable:!0,responsivePriority:22,render:$.fn.dataTable.render.text()},{data:"Unit.Location.Name",searchable:!0,orderable:!0,responsivePriority:30,render:$.fn.dataTable.render.text()},{data:"State",searchable:!0,orderable:!0,responsivePriority:3,render:function(n){switch(n){case 1:return"Broken";case 2:return"In repair";case 3:return"Repaired";default:return"Unknown"}}},{data:"Description",searchable:!0,orderable:!0,responsivePriority:40,render:$.fn.dataTable.render.text()},{data:"ReportedByUser.UserName",searchable:!0,orderable:!0,responsivePriority:50,render:function(n){const t=n.split("@");return t[0]}},{data:"CausedByUser.UserName",searchable:!0,orderable:!0,responsivePriority:51,render:function(n){const t=n.split("@");return t[0]}},{data:"CreatedDate",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"ModifiedDate",searchable:!0,orderable:!0,responsivePriority:9e3,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"Action",searchable:!1,orderable:!1,responsivePriority:10,render:function(n,t,i){var r=`<a href="${i.Action.Edit}" class="text-primary">Edit</a> <br />`;return r=r+`<a href="${i.Action.Details}" class="text-primary">Details</a> <br />`,i.IsDeleted?r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Restore}" data-name="${i.DefectNumber}">Restore</a>`:r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Delete}" data-name="${i.DefectNumber}">Delete</a>`}}],t=$("#dtDefect").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"Defect/LoadTable",type:"POST",headers:{RequestVerificationToken:document.getElementById("RequestVerificationToken").value}},layout:{topEnd:null},responsive:{details:{display:$.fn.dataTable.Responsive.display.childRow}},columns:n,searchCols:[null,null,null,null,null,null,null,null,null,null,null,null,null],order:[[0,"asc"]],initComplete:function(){$("#dtDefect thead tr").after("<tr>");this.api().columns().every(function(){var t=this,i=t.index(),f=n[i].searchable,e=t.responsiveHidden(),r=n[i].data,u=t.header().textContent;if(f&&e&&i!==6)if(r.includes("IsDeleted")){$("#dtDefect thead tr:last").append(`<th><div class="form-check"><input class="form-check-input w-100" type="checkbox" id="searchCheckbox"></div></th>`);$("#dtDefect thead tr:last th:last input").on("click",function(){t.search(this.checked).draw()})}else if(r.includes("Date")){$("#dtDefect thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${u}" /></th>`);$("#dtDefect thead tr:last th:last input").on("change",function(){t.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()})}else{$("#dtDefect thead tr:last").append(`<th><input class="search w-100" placeholder="Search ${u}" /></th>`);$("#dtDefect thead tr:last th:last input").on("keyup change clear",function(){t.search()!==this.value&&t.search(this.value).draw()})}if(i===6){var o=$("<th><\/th>").appendTo($(`#dtDefect thead tr:last`)),s=$('<select class="w-100"><option value="">Show all<\/option><\/select>').appendTo(o).on("change",function(){t.search($(this).val(),{exact:!0}).draw()}),h=["Broken","In repair","Repaired"];t.data().unique().sort().each(function(n){s.append('<option value="'+n+'">'+h[n-1]+"<\/option>")})}})}})});$(document).ready(function(){if($("#dtLocationType").length!==0)var n=[{data:"Name",searchable:!0,orderable:!0,responsivePriority:1,render:$.fn.dataTable.render.text()},{data:"Description",searchable:!0,orderable:!0,responsivePriority:100,render:$.fn.dataTable.render.text()},{data:"CreatedDate",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"ModifiedDate",searchable:!0,orderable:!0,responsivePriority:9e3,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"IsDeleted",searchable:!0,orderable:!0,responsivePriority:200,render:function(n,t,i){var r="";return i.IsDeleted===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input w-100" type="checkbox" disabled ${r}></div>`}},{data:"Action",searchable:!1,orderable:!1,responsivePriority:10,render:function(n,t,i){var r=`<a href="${i.Action.Edit}" class="text-primary">Edit</a> <br />`;return r=r+`<a href="${i.Action.Details}" class="text-primary">Details</a> <br />`,i.IsDeleted?r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Restore}" data-name="${i.Name}">Restore</a>`:r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Delete}" data-name="${i.Name}">Delete</a>`}}],t=$("#dtLocationType").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"LocationType/LoadTable",type:"POST",headers:{RequestVerificationToken:document.getElementById("RequestVerificationToken").value}},layout:{topEnd:null},responsive:{details:{display:$.fn.dataTable.Responsive.display.childRow}},columns:n,searchCols:[null,null,null,null,{search:"false"},null],order:[[0,"asc"]],initComplete:function(){$("#dtLocationType thead tr").after("<tr>");this.api().columns().every(function(){var t=this,i=t.index(),r=n[i].searchable,u=t.responsiveHidden(),f=n[i].data,e=t.header().textContent;if(r&&u)if(f.includes("IsDeleted")){$("#dtLocationType thead tr:last").append(`<th><div class="form-check"><input class="form-check-input w-100" type="checkbox" id="searchCheckbox"></div></th>`);$("#dtLocationType thead tr:last th:last input").on("click",function(){t.search(this.checked).draw()})}else if(f.includes("Date")){$("#dtLocationType thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${e}" /></th>`);$("#dtLocationType thead tr:last th:last input").on("change",function(){t.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()})}else{$("#dtLocationType thead tr:last").append(`<th><input class="search w-100" placeholder="Search ${e}" /></th>`);$("#dtLocationType thead tr:last th:last input").on("keyup clear",function(){t.search()!==this.value&&t.search(this.value).draw()})}!r&&u&&$("#dtLocationType thead tr:last").append(`<th></th>`)})}})});$(document).ready(function(){if($("#dtLocation").length!==0)var n=[{data:"Name",searchable:!0,orderable:!0,responsivePriority:1,render:$.fn.dataTable.render.text()},{data:"Description",searchable:!0,orderable:!0,responsivePriority:100,render:$.fn.dataTable.render.text()},{data:"Address",searchable:!0,orderable:!0,responsivePriority:101,render:$.fn.dataTable.render.text()},{data:"LocationType.Name",searchable:!0,orderable:!0,responsivePriority:10,render:$.fn.dataTable.render.text()},{data:"CreatedDate",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"ModifiedDate",searchable:!0,orderable:!0,responsivePriority:9e3,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"IsDeleted",searchable:!0,orderable:!0,responsivePriority:200,render:function(n,t,i){var r="";return i.IsDeleted===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input w-100" type="checkbox" disabled ${r}></div>`}},{data:"Action",searchable:!1,orderable:!1,responsivePriority:2,render:function(n,t,i){var r=`<a href="${i.Action.Edit}" class="text-primary">Edit</a> <br />`;return r=r+`<a href="${i.Action.Details}" class="text-primary">Details</a> <br />`,i.IsDeleted?r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Restore}" data-name="${i.Name}">Restore</a>`:r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Delete}" data-name="${i.Name}">Delete</a>`}}],t=$("#dtLocation").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"Location/LoadTable",type:"POST",headers:{RequestVerificationToken:document.getElementById("RequestVerificationToken").value}},layout:{topEnd:null},responsive:{details:{display:$.fn.dataTable.Responsive.display.childRow}},columns:n,searchCols:[null,null,null,null,null,null,{search:"false"},null],order:[[0,"asc"]],initComplete:function(){$("#dtLocation thead tr").after("<tr>");this.api().columns().every(function(){var t=this,i=t.index(),r=n[i].searchable,u=t.responsiveHidden(),f=n[i].data,e=t.header().textContent;if(r&&u)if(f.includes("IsDeleted")){$("#dtLocation thead tr:last").append(`<th><div class="form-check"><input class="form-check-input w-100" type="checkbox" id="searchCheckbox"></div></th>`);$("#dtLocation thead tr:last th:last input").on("click",function(){t.search(this.checked).draw()})}else if(f.includes("Date")){$("#dtLocation thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${e}" /></th>`);$("#dtLocation thead tr:last th:last input").on("change",function(){t.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()})}else{$("#dtLocation thead tr:last").append(`<th><input class="search w-100" placeholder="Search ${e}" /></th>`);$("#dtLocation thead tr:last th:last input").on("keyup change clear",function(){t.search()!==this.value&&t.search(this.value).draw()})}!r&&u&&$("#dtLocation thead tr:last").append(`<th></th>`)})}})});$(document).ready(function(){if($("#dtManufacturer").length!==0)var n=[{data:"Name",searchable:!0,orderable:!0,responsivePriority:1,render:$.fn.dataTable.render.text()},{data:"Description",searchable:!0,orderable:!0,responsivePriority:100,render:$.fn.dataTable.render.text()},{data:"CreatedDate",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"ModifiedDate",searchable:!0,orderable:!0,responsivePriority:9e3,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"IsDeleted",searchable:!0,orderable:!0,responsivePriority:200,render:function(n,t,i){var r="";return i.IsDeleted===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input w-100" type="checkbox" disabled ${r}></div>`}},{data:"Action",searchable:!1,orderable:!1,responsivePriority:10,render:function(n,t,i){var r=`<a href="${i.Action.Edit}" class="text-primary">Edit</a> <br />`;return r=r+`<a href="${i.Action.Details}" class="text-primary">Details</a> <br />`,i.IsDeleted?r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Restore}" data-name="${i.Name}">Restore</a>`:r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Delete}" data-name="${i.Name}">Delete</a>`}}],t=$("#dtManufacturer").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"Manufacturer/LoadTable",type:"POST",headers:{RequestVerificationToken:document.getElementById("RequestVerificationToken").value}},layout:{topEnd:null},responsive:{details:{display:$.fn.dataTable.Responsive.display.childRow}},columns:n,searchCols:[null,null,null,null,{search:"false"},null],order:[[0,"asc"]],initComplete:function(){$("#dtManufacturer thead tr").after("<tr>");this.api().columns().every(function(){var t=this,i=t.index(),r=n[i].searchable,u=t.responsiveHidden(),f=n[i].data,e=t.header().textContent;if(r&&u)if(f.includes("IsDeleted")){$("#dtManufacturer thead tr:last").append(`<th><div class="form-check"><input class="form-check-input w-100" type="checkbox" id="searchCheckbox"></div></th>`);$("#dtManufacturer thead tr:last th:last input").on("click",function(){t.search(this.checked).draw()})}else if(f.includes("Date")){$("#dtManufacturer thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${e}" /></th>`);$("#dtManufacturer thead tr:last th:last input").on("change",function(){t.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()})}else{$("#dtManufacturer thead tr:last").append(`<th><input class="search w-100" placeholder="Search ${e}" /></th>`);$("#dtManufacturer thead tr:last th:last input").on("keyup change clear",function(){t.search()!==this.value&&t.search(this.value).draw()})}!r&&u&&$("#dtManufacturer thead tr:last").append(`<th></th>`)})}})});$(document).ready(function(){if($("#dtProductType").length!==0)var n=[{data:"Name",searchable:!0,orderable:!0,responsivePriority:1,render:$.fn.dataTable.render.text()},{data:"Description",searchable:!0,orderable:!0,responsivePriority:100,render:$.fn.dataTable.render.text()},{data:"CreatedDate",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"ModifiedDate",searchable:!0,orderable:!0,responsivePriority:9e3,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"IsDeleted",searchable:!0,orderable:!0,responsivePriority:200,render:function(n,t,i){var r="";return i.IsDeleted===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input w-100" type="checkbox" disabled ${r}></div>`}},{data:"Action",searchable:!1,orderable:!1,responsivePriority:10,render:function(n,t,i){var r=`<a href="${i.Action.Edit}" class="text-primary">Edit</a> <br />`;return r=r+`<a href="${i.Action.Details}" class="text-primary">Details</a> <br />`,i.IsDeleted?r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Restore}" data-name="${i.Name}">Restore</a>`:r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Delete}" data-name="${i.Name}">Delete</a>`}}],t=$("#dtProductType").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"ProductType/LoadTable",type:"POST",headers:{RequestVerificationToken:document.getElementById("RequestVerificationToken").value}},layout:{topEnd:null},responsive:{details:{display:$.fn.dataTable.Responsive.display.childRow}},columns:n,searchCols:[null,null,null,null,{search:"false"},null],order:[[0,"asc"]],initComplete:function(){$("#dtProductType thead tr").after("<tr>");this.api().columns().every(function(){var t=this,i=t.index(),r=n[i].searchable,u=t.responsiveHidden(),f=n[i].data,e=t.header().textContent;if(r&&u)if(f.includes("IsDeleted")){$("#dtProductType thead tr:last").append(`<th><div class="form-check"><input class="form-check-input w-100" type="checkbox" id="searchCheckbox"></div></th>`);$("#dtProductType thead tr:last th:last input").on("click",function(){t.search(this.checked).draw()})}else if(f.includes("Date")){$("#dtProductType thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${e}" /></th>`);$("#dtProductType thead tr:last th:last input").on("change",function(){t.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()})}else{$("#dtProductType thead tr:last").append(`<th><input class="search w-100" placeholder="Search ${e}" /></th>`);$("#dtProductType thead tr:last th:last input").on("keyup change clear",function(){t.search()!==this.value&&t.search(this.value).draw()})}!r&&u&&$("#dtProductType thead tr:last").append(`<th></th>`)})}})});$(document).ready(function(){if($("#dtVendor").length!==0)var n=[{data:"Name",searchable:!0,orderable:!0,responsivePriority:1,render:$.fn.dataTable.render.text()},{data:"Address",searchable:!0,orderable:!0,responsivePriority:23,render:$.fn.dataTable.render.text()},{data:"Phone",searchable:!0,orderable:!0,responsivePriority:20,render:$.fn.dataTable.render.text()},{data:"Email",searchable:!0,orderable:!0,responsivePriority:21,render:$.fn.dataTable.render.text()},{data:"Website",searchable:!0,orderable:!0,responsivePriority:22,render:$.fn.dataTable.render.text()},{data:"CreatedDate",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"ModifiedDate",searchable:!0,orderable:!0,responsivePriority:9e3,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"IsDeleted",searchable:!0,orderable:!0,responsivePriority:200,render:function(n,t,i){var r="";return i.IsDeleted===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input w-100" type="checkbox" disabled ${r}></div>`}},{data:"Action",searchable:!1,orderable:!1,responsivePriority:10,render:function(n,t,i){var r=`<a href="${i.Action.Edit}" class="text-primary">Edit</a> <br />`;return r=r+`<a href="${i.Action.Details}" class="text-primary">Details</a> <br />`,i.IsDeleted?r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Restore}" data-name="${i.Name}">Restore</a>`:r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Delete}" data-name="${i.Name}">Delete</a>`}}],t=$("#dtVendor").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"Vendor/LoadTable",type:"POST",headers:{RequestVerificationToken:document.getElementById("RequestVerificationToken").value}},layout:{topEnd:null},responsive:{details:{display:$.fn.dataTable.Responsive.display.childRow}},columns:n,searchCols:[null,null,null,null,null,null,null,{search:"false"},null],order:[[0,"asc"]],initComplete:function(){$("#dtVendor thead tr").after("<tr>");this.api().columns().every(function(){var t=this,i=t.index(),r=n[i].searchable,u=t.responsiveHidden(),f=n[i].data,e=t.header().textContent;if(r&&u)if(f.includes("IsDeleted")){$("#dtVendor thead tr:last").append(`<th><div class="form-check"><input class="form-check-input w-100" type="checkbox" id="searchCheckbox"></div></th>`);$("#dtVendor thead tr:last th:last input").on("click",function(){t.search(this.checked).draw()})}else if(f.includes("Date")){$("#dtVendor thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${e}" /></th>`);$("#dtVendor thead tr:last th:last input").on("change",function(){t.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()})}else{$("#dtVendor thead tr:last").append(`<th><input class="search w-100" placeholder="Search ${e}" /></th>`);$("#dtVendor thead tr:last th:last input").on("keyup change clear",function(){t.search()!==this.value&&t.search(this.value).draw()})}!r&&u&&$("#dtVendor thead tr:last").append(`<th></th>`)})}})});$(document).ready(function(){if($("#dtProduct").length!==0)var n=[{data:"Name",searchable:!0,orderable:!0,responsivePriority:1,render:$.fn.dataTable.render.text()},{data:"ProductNumber",searchable:!0,orderable:!0,responsivePriority:20,render:$.fn.dataTable.render.text()},{data:"Description",searchable:!0,orderable:!0,responsivePriority:30,render:$.fn.dataTable.render.text()},{data:"Webpage",searchable:!0,orderable:!0,responsivePriority:31,render:$.fn.dataTable.render.text()},{data:"ProductType.Name",searchable:!0,orderable:!0,responsivePriority:21,render:$.fn.dataTable.render.text()},{data:"Manufacturer.Name",searchable:!0,orderable:!0,responsivePriority:22,render:$.fn.dataTable.render.text()},{data:"CreatedDate",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"ModifiedDate",searchable:!0,orderable:!0,responsivePriority:9e3,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"IsDeleted",searchable:!0,orderable:!0,responsivePriority:200,render:function(n,t,i){var r="";return i.IsDeleted===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input w-100" type="checkbox" disabled ${r}></div>`}},{data:"Action",searchable:!1,orderable:!1,responsivePriority:10,render:function(n,t,i){var r=`<a href="${i.Action.Edit}" class="text-primary">Edit</a> <br />`;return r=r+`<a href="${i.Action.Details}" class="text-primary">Details</a> <br />`,i.IsDeleted?r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Restore}" data-name="${i.Name}">Restore</a>`:r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Delete}" data-name="${i.Name}">Delete</a>`}}],t=$("#dtProduct").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"Product/LoadTable",type:"POST",headers:{RequestVerificationToken:document.getElementById("RequestVerificationToken").value}},layout:{topEnd:null},responsive:{details:{display:$.fn.dataTable.Responsive.display.childRow}},columns:n,searchCols:[null,null,null,null,null,null,null,null,{search:"false"},null],order:[[0,"asc"]],initComplete:function(){$("#dtProduct thead tr").after("<tr>");this.api().columns().every(function(){var t=this,i=t.index(),r=n[i].searchable,u=t.responsiveHidden(),f=n[i].data,e=t.header().textContent;if(r&&u)if(f.includes("IsDeleted")){$("#dtProduct thead tr:last").append(`<th><div class="form-check"><input class="form-check-input w-100" type="checkbox" id="searchCheckbox"></div></th>`);$("#dtProduct thead tr:last th:last input").on("click",function(){t.search(this.checked).draw()})}else if(f.includes("Date")){$("#dtProduct thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${e}" /></th>`);$("#dtProduct thead tr:last th:last input").on("change",function(){t.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()})}else{$("#dtProduct thead tr:last").append(`<th><input class="search w-100" placeholder="Search ${e}" /></th>`);$("#dtProduct thead tr:last th:last input").on("keyup change clear",function(){t.search()!==this.value&&t.search(this.value).draw()})}!r&&u&&$("#dtProduct thead tr:last").append(`<th></th>`)})}})});$(document).ready(function(){if($("#dtBundle").length!==0)var n=[{data:"Name",searchable:!0,orderable:!0,responsivePriority:3,render:$.fn.dataTable.render.text()},{data:"InventoryNumber",searchable:!0,orderable:!0,responsivePriority:1,render:$.fn.dataTable.render.text()},{data:"Location.Name",searchable:!0,orderable:!0,responsivePriority:30,render:$.fn.dataTable.render.text()},{data:"DefaultLocation.Name",searchable:!0,orderable:!0,responsivePriority:31,render:$.fn.dataTable.render.text()},{data:"NumberOfUnits",searchable:!1,orderable:!1,responsivePriority:20,render:$.fn.dataTable.render.text()},{data:"BundledUnits",searchable:!0,orderable:!1,responsivePriority:2,render:function(n){var t="";for(const i in n)t=t+`${n[i].InventoryNumber} (${n[i].Product.ProductType.Name} - ${n[i].Product.Name})  <br />`;return t}},{data:"HasDefect",searchable:!0,orderable:!0,responsivePriority:40,render:function(n,t,i){var r="";return i.HasDefect===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input" type="checkbox" disabled ${r}></div>`}},{data:"IsDeleted",searchable:!0,orderable:!0,responsivePriority:200,render:function(n,t,i){var r="";return i.IsDeleted===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input w-100" type="checkbox" disabled ${r}></div>`}},{data:"Action",searchable:!1,orderable:!1,responsivePriority:10,render:function(n,t,i){var r=`<a href="${i.Action.Edit}" class="text-primary">Edit</a> <br />`;return r=r+`<a href="${i.Action.Details}" class="text-primary">Details</a> <br />`,i.IsDeleted?r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Restore}" data-name="${i.Name}">Restore</a>`:r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Delete}" data-name="${i.Name}">Delete</a>`}}],t=$("#dtBundle").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"Bundle/LoadTable",type:"POST",headers:{RequestVerificationToken:document.getElementById("RequestVerificationToken").value}},layout:{topEnd:null},responsive:{details:{display:$.fn.dataTable.Responsive.display.childRow}},columns:n,searchCols:[null,null,null,null,null,null,null,{search:"false"},null],order:[[0,"asc"]],initComplete:function(){$("#dtBundle thead tr").after("<tr>");this.api().columns().every(function(){var t=this,i=t.index(),r=n[i].searchable,u=t.responsiveHidden(),f=n[i].data,e=t.header().textContent;if(r&&u)if(f.includes("IsDeleted")){$("#dtBundle thead tr:last").append(`<th><div class="form-check"><input class="form-check-input" type="checkbox" id="searchCheckbox"></div></th>`);$("#dtBundle thead tr:last th:last input").on("click",function(){t.search(this.checked).draw()})}else if(f.includes("Date")){$("#dtBundle thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${e}" /></th>`);$("#dtBundle thead tr:last th:last input").on("change",function(){t.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()})}else{$("#dtBundle thead tr:last").append(`<th><input class="search w-100" placeholder="Search ${e}" /></th>`);$("#dtBundle thead tr:last th:last input").on("keyup change clear",function(){t.search()!==this.value&&t.search(this.value).draw()})}!r&&u&&$("#dtBundle thead tr:last").append(`<th></th>`)})}})});$(document).ready(function(){if($("#dtUnit").length!==0)var n=[{data:"InventoryNumber",searchable:!0,orderable:!0,responsivePriority:1,render:$.fn.dataTable.render.text()},{data:"Product.ProductType.Name",searchable:!0,orderable:!0,responsivePriority:20,render:$.fn.dataTable.render.text()},{data:"Product.Manufacturer.Name",searchable:!0,orderable:!0,responsivePriority:21,render:$.fn.dataTable.render.text()},{data:"Product.Name",searchable:!0,orderable:!0,responsivePriority:22,render:$.fn.dataTable.render.text()},{data:"SerialNumber",searchable:!0,orderable:!0,responsivePriority:2,render:$.fn.dataTable.render.text()},{data:"Location.Name",searchable:!0,orderable:!0,responsivePriority:30,render:$.fn.dataTable.render.text()},{data:"DefaultLocation.Name",searchable:!0,orderable:!0,responsivePriority:31,render:$.fn.dataTable.render.text()},{data:"PartOfBundle.Name",searchable:!0,orderable:!0,defaultContent:"",responsivePriority:23,render:$.fn.dataTable.render.text()},{data:"Vendor.Name",searchable:!0,orderable:!0,defaultContent:"",responsivePriority:32,render:$.fn.dataTable.render.text()},{data:"LastTransferTime",searchable:!0,orderable:!0,responsivePriority:40,render:function(n){return n?luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT"):null}},{data:"LastCheckTime",searchable:!0,orderable:!0,responsivePriority:41,render:function(n){return n?luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT"):null}},{data:"HasDefect",searchable:!0,orderable:!0,responsivePriority:42,render:function(n,t,i){var r="";return i.HasDefect===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input w-100" type="checkbox" disabled ${r}></div>`}},{data:"IsDeleted",searchable:!0,orderable:!0,responsivePriority:200,render:function(n,t,i){var r="";return i.IsDeleted===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input w-100" type="checkbox" disabled ${r}></div>`}},{data:"Action",searchable:!1,orderable:!1,responsivePriority:10,render:function(n,t,i){var r=`<a href="${i.Action.Edit}" class="text-primary">Edit</a> <br />`;return r=r+`<a href="${i.Action.Details}" class="text-primary">Details</a> <br />`,i.IsDeleted?r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Restore}" data-name="${i.InventoryNumber}">Restore</a>`:r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Delete}" data-name="${i.InventoryNumber}">Delete</a>`}}],t=$("#dtUnit").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"Unit/LoadTable",type:"POST",headers:{RequestVerificationToken:document.getElementById("RequestVerificationToken").value}},layout:{topEnd:null},responsive:{details:{display:$.fn.dataTable.Responsive.display.childRow}},columns:n,searchCols:[null,null,null,null,null,null,null,null,null,null,null,{search:"false"},{search:"false"},null],order:[[0,"asc"]],initComplete:function(){$("#dtUnit thead tr").after("<tr>");this.api().columns().every(function(){var t=this,r=t.index(),u=n[r].searchable,f=t.responsiveHidden(),i=n[r].data,e=t.header().textContent;if(u&&f)if(i.includes("IsDeleted")||i.includes("HasDefect")){$("#dtUnit thead tr:last").append(`<th><div class="form-check"><input class="form-check-input w-100" type="checkbox" id="searchCheckbox"></div></th>`);$("#dtUnit thead tr:last th:last input").on("click",function(){t.search(this.checked).draw()})}else if(i.includes("Date")){$("#dtUnit thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${e}" /></th>`);$("#dtUnit thead tr:last th:last input").on("change",function(){t.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()})}else{$("#dtUnit thead tr:last").append(`<th><input class="search w-100" placeholder="Search ${e}" /></th>`);$("#dtUnit thead tr:last th:last input").on("keyup change clear",function(){t.search()!==this.value&&t.search(this.value).draw()})}!u&&f&&$("#dtUnit thead tr:last").append(`<th></th>`)})}})});$(document).ready(function(){if($("#dtTransfer").length!==0)var n=[{data:"MainTransfer.TransferNumber",searchable:!0,orderable:!0,responsivePriority:1,render:$.fn.dataTable.render.text()},{data:"MainTransfer.TransferTime",searchable:!0,orderable:!0,responsivePriority:21,render:function(n,t,i){return i.MainTransfer.State==1?"Not Yet Transferred":luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"MainTransfer.State",searchable:!0,orderable:!0,responsivePriority:20,render:function(n){switch(n){case 1:return"Prepared";case 2:return"Transferred";default:return"Unknown"}}},{data:"MainTransfer.User.UserName",searchable:!0,orderable:!0,responsivePriority:22,render:function(n){const t=n.split("@");return t[0]}},{data:"OriginLocation.Name",searchable:!0,orderable:!0,responsivePriority:15,render:$.fn.dataTable.render.text()},{data:"DestinationLocation.Name",searchable:!0,orderable:!0,responsivePriority:16,render:$.fn.dataTable.render.text()},{data:"UnitBundleView.InventoryNumber",searchable:!0,orderable:!1,responsivePriority:2,defaultContent:"",render:function(n,t,i){return i.BundleId==null?i.Unit.InventoryNumber:i.Bundle.InventoryNumber}},{data:"Action",searchable:!1,orderable:!1,responsivePriority:10,render:function(n,t,i){var r="";return i.Action.Transfer!=null&&(r=`<a href="${i.Action.Transfer}" class="text-primary">Transfer</a> <br />`),r+`<a href="${i.Action.Details}" class="text-primary">Details</a>`}}],t=$("#dtTransfer").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"Transfer/LoadTable",type:"POST",headers:{RequestVerificationToken:document.getElementById("RequestVerificationToken").value}},layout:{topEnd:null},responsive:{details:{display:$.fn.dataTable.Responsive.display.childRow}},columns:n,order:[[0,"asc"]],initComplete:function(){$("#dtTransfer thead tr").after("<tr>");this.api().columns().every(function(){var t=this,i=t.index(),f=n[i].searchable,e=t.responsiveHidden(),r=n[i].data,u=t.header().textContent;if(f&&e&&i!==2)if(r.includes("IsDeleted")){$("#dtTransfer thead tr:last").append(`<th><div class="form-check"><input class="form-check-input w-100" type="checkbox" id="searchCheckbox"></div></th>`);$("#dtTransfer thead tr:last th:last input").on("click",function(){t.search(this.checked).draw()})}else if(r.includes("Date")){$("#dtTransfer thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${u}" /></th>`);$("#dtTransfer thead tr:last th:last input").on("change",function(){t.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()})}else{$("#dtTransfer thead tr:last").append(`<th><input class="search w-100" placeholder="Search ${u}" /></th>`);$("#dtTransfer thead tr:last th:last input").on("keyup change clear",function(){t.search()!==this.value&&t.search(this.value).draw()})}if(i===2){var o=$("<th><\/th>").appendTo($(`#dtTransfer thead tr:last`)),s=$('<select class="w-100"><option value="">Select all<\/option><\/select>').appendTo(o).on("change",function(){t.search($(this).val(),{exact:!0}).draw()}),h=["Prepared","Transferred"];t.data().unique().sort().each(function(n){s.append('<option value="'+n+'">'+h[n-1]+"<\/option>")})}})}})});$(document).ready(function(){if($("#dtTransferDetails").length!==0)var n=[{data:"UnitBundleView.InventoryNumber",searchable:!0,orderable:!1,defaultContent:"",responsivePriority:1,render:function(n,t,i){return i.BundleId==null?i.Unit.InventoryNumber:i.Bundle.InventoryNumber}},{data:"OriginLocation.Name",searchable:!0,orderable:!0,responsivePriority:2,render:$.fn.dataTable.render.text()}],t=$("#dtTransferDetails").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"/Transfer/LoadTableDetails",type:"POST",headers:{RequestVerificationToken:document.getElementById("RequestVerificationToken").value},data:{AdditionalData:{MainTransferId:$("#MainTransferId").val()}}},layout:{topEnd:null},responsive:{details:{display:$.fn.dataTable.Responsive.display.childRow}},columns:n,initComplete:function(){$("#dtTransferDetails thead tr").after("<tr>");this.api().columns().every(function(){var t=this,i=t.index(),r=n[i].searchable,u=t.responsiveHidden(),e=n[i].data,f=t.header().textContent;if(r&&u){$("#dtTransferDetails thead tr:last").append(`<th><input class="search w-100" placeholder="Search ${f}" /></th>`);$("#dtTransferDetails thead tr:last th:last input").on("keyup change clear",function(){t.search()!==this.value&&t.search(this.value).draw()})}})}})});$(document).ready(function(){if($("#dtCreateTransfer").length!==0){var n=[{data:"InventoryNumber",searchable:!0,orderable:!0,responsivePriority:1,render:$.fn.dataTable.render.text()},{data:"Unit.Product.Name",searchable:!0,orderable:!0,responsivePriority:2,render:$.fn.dataTable.render.text()},{data:"Bundle.BundledUnits",searchable:!0,orderable:!1,responsivePriority:3,render:function(n){var t="";for(const i in n)t=t+`${n[i].InventoryNumber} (${n[i].Product.ProductType.Name} - ${n[i].Product.Name})  <br />`;return t}},{data:"Location.Name",searchable:!0,orderable:!0,responsivePriority:4,render:$.fn.dataTable.render.text()},{data:"DefaultLocation.Name",searchable:!0,orderable:!0,responsivePriority:20,render:$.fn.dataTable.render.text()},{data:"HasDefect",searchable:!0,orderable:!0,responsivePriority:10,render:function(n,t,i){var r="";return i.HasDefect===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input w-100" type="checkbox" disabled ${r}></div>`}},],t=$("#dtCreateTransfer").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"/Transfer/LoadUnitBundleView",type:"POST",headers:{RequestVerificationToken:document.getElementById("RequestVerificationToken").value}},layout:{topEnd:null},responsive:{details:{display:$.fn.dataTable.Responsive.display.childRowImmediate}},columns:n,searchCols:[null,null,null,null,null,{search:"false"}],order:[[0,"asc"]],initComplete:function(){$("#dtCreateTransfer thead tr").after("<tr>");this.api().columns().every(function(){var t=this,i=t.index(),f=n[i].searchable,e=t.responsiveHidden(),r=n[i].data,u=t.header().textContent;if(f&&e)if(r.includes("HasDefect")){$("#dtCreateTransfer thead tr:last").append(`<th><div class="form-check"><input class="form-check-input w-100" type="checkbox" id="searchCheckbox"></div></th>`);$("#dtCreateTransfer thead tr:last th:last input").on("click",function(){t.search(this.checked).draw()})}else if(r.includes("Date")){$("#dtCreateTransfer thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${u}" /></th>`);$("#dtCreateTransfer thead tr:last th:last input").on("change",function(){t.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()})}else{$("#dtCreateTransfer thead tr:last").append(`<th><input class="search w-100" placeholder="Search ${u}" /></th>`);$("#dtCreateTransfer thead tr:last th:last input").on("keyup change clear",function(){t.search()!==this.value&&t.search(this.value).draw()})}})}});$("#dtCreateTransfer tbody").on("click","tr",function(){$(this).toggleClass("selected")});$('input[name="btnCreateTransfer"]').click(function(){var n=t.rows(".selected").data(),i=[];for(let t=0;t<n.length;++t){const r=n[t];i.push(r)}$("#selectedRows").val(JSON.stringify(i))})}});