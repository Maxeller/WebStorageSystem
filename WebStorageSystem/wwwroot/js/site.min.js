tippy(document.querySelectorAll(".tippy"));$(document).ready(function(){$(".selectTwo").select2({theme:"bootstrap4"});$(".selectTwoAllowClear").select2({theme:"bootstrap4",allowClear:!0})});$("#set-current-time").click(function(){$("#dt-lastCheck").val(moment().format("YYYY-MM-DDTHH:mm"))});$("#deleteRestoreModal").on("show.bs.modal",function(n){const i=$(n.relatedTarget).data("url"),u=$(n.relatedTarget).data("name"),r=i.split("/");let t=r[2];t==="Delete"||t==="Restore"||(t=r[3]);$(this).find(".modal-header h5").text(t);$(this).find(".modal-body span").text(t.toLowerCase());$(this).find(".modal-body b").text(u);$(this).find(".modal-footer .btn-danger").text(t);$(this).find(".modal-footer form").attr("action",i)});$(function(){$("#errorModal").modal("show")});$(document).ready(function(){var n,i,t;$("#dtLocationType").length!==0&&(n=[{data:"Name",searchable:!0,orderable:!0},{data:"Description",searchable:!0,orderable:!0},{data:"CreatedDate",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"ModifiedDate",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("D TT")}},{data:"IsDeleted",searchable:!0,orderable:!0,render:function(n,t,i){var r="";return i.IsDeleted===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input" type="checkbox" disabled ${r}></div>`}},{data:"Action",searchable:!1,orderable:!1,render:function(n,t,i){var r=`<a href="${i.Action.Edit}" class="text-primary">Edit</a> `;return r=r+`<a href="${i.Action.Details}" class="text-primary">Details</a> `,i.IsDeleted?r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Restore}" data-name="${i.Name}">Restore</a>`:r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Delete}" data-name="${i.Name}">Delete</a>`}}],i=$("#dtLocationType").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"LocationType/LoadTable",type:"POST",data:{}},layout:{topEnd:null},columns:n}),$("#dtLocationType thead tr").after("<tr>"),t=0,$("#dtLocationType thead th").each(function(){var i=$("#dtLocationType thead th").eq($(this).index()).text();n[t].searchable?n[t].data.includes("IsDeleted")?$("#dtLocationType thead tr:last").append(`<th><div class="form-check"><input class="form-check-input" type="checkbox" id="searchCheckbox"></div></th>`):n[t].data.includes("Date")?$("#dtLocationType thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${i}" /></th>`):$("#dtLocationType thead tr:last").append(`<th><input type="search" placeholder="Search ${i}" /></th>`):$("#dtLocationType thead tr:last").append(`<th></th>`);t++}),$("#dtLocationType thead th:last").after("<\/tr>"),i.columns().every(function(n){var i=this,t=$(`#dtLocationType thead tr:last th:eq(${n}) input`);if(t.is("#searchCheckbox"))t.on("click",function(){i.search(this.checked).draw()});else if(t.is("#searchDate"))t.on("change",function(){i.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()});else t.on("keyup clear",function(){i.search(this.value).draw()})}))});$(document).ready(function(){var n,i,t;$("#dtLocation").length!==0&&(n=[{data:"Name",searchable:!0,orderable:!0},{data:"Description",searchable:!0,orderable:!0},{data:"Address",searchable:!0,orderable:!0},{data:"LocationType.Name",searchable:!0,orderable:!0},{data:"CreatedDate",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"ModifiedDate",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"IsDeleted",searchable:!0,orderable:!0,render:function(n,t,i){var r="";return i.IsDeleted===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input" type="checkbox" disabled ${r}></div>`}},{data:"Action",searchable:!1,orderable:!1,render:function(n,t,i){var r=`<a href="${i.Action.Edit}" class="text-primary">Edit</a> `;return r=r+`<a href="${i.Action.Details}" class="text-primary">Details</a> `,i.IsDeleted?r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Restore}" data-name="${i.Name}">Restore</a>`:r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Delete}" data-name="${i.Name}">Delete</a>`}}],i=$("#dtLocation").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"Location/LoadTable",type:"POST"},layout:{topEnd:null},columns:n}),$("#dtLocation thead tr").after("<tr>"),t=0,$("#dtLocation thead th").each(function(){var i=$("#dtLocation thead th").eq($(this).index()).text();n[t].searchable?n[t].data.includes("IsDeleted")?$("#dtLocation thead tr:last").append(`<th><div class="form-check"><input class="form-check-input" type="checkbox" id="searchCheckbox"></div></th>`):n[t].data.includes("Date")?$("#dtLocation thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${i}" /></th>`):$("#dtLocation thead tr:last").append(`<th><input type="search" placeholder="Search ${i}" /></th>`):$("#dtLocation thead tr:last").append(`<th></th>`);t++}),$("#dtLocation thead th:last").after("<\/tr>"),i.columns().every(function(n){var i=this,t=$(`#dtLocation thead tr:last th:eq(${n}) input`);if(t.is("#searchCheckbox"))t.on("click",function(){i.search(this.checked).draw()});else if(t.is("#searchDate"))t.on("change",function(){i.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()});else t.on("keyup clear",function(){i.search(this.value).draw()})}))});$(document).ready(function(){var n,i,t;$("#dtManufacturer").length!==0&&(n=[{data:"Name",searchable:!0,orderable:!0},{data:"Description",searchable:!0,orderable:!0},{data:"CreatedDate",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"ModifiedDate",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"IsDeleted",searchable:!0,orderable:!0,render:function(n,t,i){var r="";return i.IsDeleted===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input" type="checkbox" disabled ${r}></div>`}},{data:"Action",searchable:!1,orderable:!1,render:function(n,t,i){var r=`<a href="${i.Action.Edit}" class="text-primary">Edit</a> `;return r=r+`<a href="${i.Action.Details}" class="text-primary">Details</a> `,i.IsDeleted?r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Restore}" data-name="${i.Name}">Restore</a>`:r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Delete}" data-name="${i.Name}">Delete</a>`}}],i=$("#dtManufacturer").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"Manufacturer/LoadTable",type:"POST"},layout:{topEnd:null},columns:n}),$("#dtManufacturer thead tr").after("<tr>"),t=0,$("#dtManufacturer thead th").each(function(){var i=$("#dtManufacturer thead th").eq($(this).index()).text();n[t].searchable?n[t].data.includes("IsDeleted")?$("#dtManufacturer thead tr:last").append(`<th><div class="form-check"><input class="form-check-input" type="checkbox" id="searchCheckbox"></div></th>`):n[t].data.includes("Date")?$("#dtManufacturer thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${i}" /></th>`):$("#dtManufacturer thead tr:last").append(`<th><input type="search" placeholder="Search ${i}" /></th>`):$("#dtManufacturer thead tr:last").append(`<th></th>`);t++}),$("#dtManufacturer thead th:last").after("<\/tr>"),i.columns().every(function(n){var i=this,t=$(`#dtManufacturer thead tr:last th:eq(${n}) input`);if(t.is("#searchCheckbox"))t.on("click",function(){i.search(this.checked).draw()});else if(t.is("#searchDate"))t.on("change",function(){i.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()});else t.on("keyup clear",function(){i.search(this.value).draw()})}))});$(document).ready(function(){var n,i,t;$("#dtProductType").length!==0&&(n=[{data:"Name",searchable:!0,orderable:!0},{data:"Description",searchable:!0,orderable:!0},{data:"CreatedDate",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"ModifiedDate",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"IsDeleted",searchable:!0,orderable:!0,render:function(n,t,i){var r="";return i.IsDeleted===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input" type="checkbox" disabled ${r}></div>`}},{data:"Action",searchable:!1,orderable:!1,render:function(n,t,i){var r=`<a href="${i.Action.Edit}" class="text-primary">Edit</a> `;return r=r+`<a href="${i.Action.Details}" class="text-primary">Details</a> `,i.IsDeleted?r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Restore}" data-name="${i.Name}">Restore</a>`:r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Delete}" data-name="${i.Name}">Delete</a>`}}],i=$("#dtProductType").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"ProductType/LoadTable",type:"POST"},layout:{topEnd:null},columns:n}),$("#dtProductType thead tr").after("<tr>"),t=0,$("#dtProductType thead th").each(function(){var i=$("#dtProductType thead th").eq($(this).index()).text();n[t].searchable?n[t].data.includes("IsDeleted")?$("#dtProductType thead tr:last").append(`<th><div class="form-check"><input class="form-check-input" type="checkbox" id="searchCheckbox"></div></th>`):n[t].data.includes("Date")?$("#dtProductType thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${i}" /></th>`):$("#dtProductType thead tr:last").append(`<th><input type="search" placeholder="Search ${i}" /></th>`):$("#dtProductType thead tr:last").append(`<th></th>`);t++}),$("#dtProductType thead th:last").after("<\/tr>"),i.columns().every(function(n){var i=this,t=$(`#dtProductType thead tr:last th:eq(${n}) input`);if(t.is("#searchCheckbox"))t.on("click",function(){i.search(this.checked).draw()});else if(t.is("#searchDate"))t.on("change",function(){i.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()});else t.on("keyup clear",function(){i.search(this.value).draw()})}))});$(document).ready(function(){var n,i,t;$("#dtVendor").length!==0&&(n=[{data:"Name",searchable:!0,orderable:!0},{data:"Address",searchable:!0,orderable:!0},{data:"Phone",searchable:!0,orderable:!0},{data:"Email",searchable:!0,orderable:!0},{data:"Website",searchable:!0,orderable:!0},{data:"CreatedDate",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"ModifiedDate",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"IsDeleted",searchable:!0,orderable:!0,render:function(n,t,i){var r="";return i.IsDeleted===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input" type="checkbox" disabled ${r}></div>`}},{data:"Action",searchable:!1,orderable:!1,render:function(n,t,i){var r=`<a href="${i.Action.Edit}" class="text-primary">Edit</a> `;return r=r+`<a href="${i.Action.Details}" class="text-primary">Details</a> `,i.IsDeleted?r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Restore}" data-name="${i.Name}">Restore</a>`:r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Delete}" data-name="${i.Name}">Delete</a>`}}],i=$("#dtVendor").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"Vendor/LoadTable",type:"POST"},layout:{topEnd:null},columns:n}),$("#dtVendor thead tr").after("<tr>"),t=0,$("#dtVendor thead th").each(function(){var i=$("#dtVendor thead th").eq($(this).index()).text();n[t].searchable?n[t].data.includes("IsDeleted")?$("#dtVendor thead tr:last").append(`<th><div class="form-check"><input class="form-check-input" type="checkbox" id="searchCheckbox"></div></th>`):n[t].data.includes("Date")?$("#dtVendor thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${i}" /></th>`):$("#dtVendor thead tr:last").append(`<th><input type="search" placeholder="Search ${i}" /></th>`):$("#dtVendor thead tr:last").append(`<th></th>`);t++}),$("#dtVendor thead th:last").after("<\/tr>"),i.columns().every(function(n){var i=this,t=$(`#dtVendor thead tr:last th:eq(${n}) input`);if(t.is("#searchCheckbox"))t.on("click",function(){i.search(this.checked).draw()});else if(t.is("#searchDate"))t.on("change",function(){i.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()});else t.on("keyup clear",function(){i.search(this.value).draw()})}))});$(document).ready(function(){var n,i,t;$("#dtProduct").length!==0&&(n=[{data:"Name",searchable:!0,orderable:!0},{data:"ProductNumber",searchable:!0,orderable:!0},{data:"Description",searchable:!0,orderable:!0},{data:"Webpage",searchable:!0,orderable:!0},{data:"ProductType.Name",searchable:!0,orderable:!0},{data:"Manufacturer.Name",searchable:!0,orderable:!0},{data:"CreatedDate",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"ModifiedDate",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"IsDeleted",searchable:!0,orderable:!0,render:function(n,t,i){var r="";return i.IsDeleted===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input" type="checkbox" disabled ${r}></div>`}},{data:"Action",searchable:!1,orderable:!1,render:function(n,t,i){var r=`<a href="${i.Action.Edit}" class="text-primary">Edit</a> `;return r=r+`<a href="${i.Action.Details}" class="text-primary">Details</a> `,i.IsDeleted?r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Restore}" data-name="${i.Name}">Restore</a>`:r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Delete}" data-name="${i.Name}">Delete</a>`}}],i=$("#dtProduct").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"Product/LoadTable",type:"POST"},layout:{topEnd:null},columns:n}),$("#dtProduct thead tr").after("<tr>"),t=0,$("#dtProduct thead th").each(function(){var i=$("#dtProduct thead th").eq($(this).index()).text();n[t].searchable?n[t].data.includes("IsDeleted")?$("#dtProduct thead tr:last").append(`<th><div class="form-check"><input class="form-check-input" type="checkbox" id="searchCheckbox"></div></th>`):n[t].data.includes("Date")?$("#dtProduct thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${i}" /></th>`):$("#dtProduct thead tr:last").append(`<th><input type="search" placeholder="Search ${i}" /></th>`):$("#dtProduct thead tr:last").append(`<th></th>`);t++}),$("#dtProduct thead th:last").after("<\/tr>"),i.columns().every(function(n){var i=this,t=$(`#dtProduct thead tr:last th:eq(${n}) input`);if(t.is("#searchCheckbox"))t.on("click",function(){i.search(this.checked).draw()});else if(t.is("#searchDate"))t.on("change",function(){i.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()});else t.on("keyup clear",function(){i.search(this.value).draw()})}))});$(document).ready(function(){var n,i,t;$("#dtBundle").length!==0&&(n=[{data:"Name",searchable:!0,orderable:!0},{data:"InventoryNumber",searchable:!0,orderable:!0},{data:"Location.Name",searchable:!0,orderable:!0},{data:"DefaultLocation.Name",searchable:!0,orderable:!0},{data:"NumberOfUnits",searchable:!1,orderable:!1},{data:"BundledUnits",searchable:!0,orderable:!1,render:function(n){var t="";for(const i in n)t=t+`${n[i].InventoryNumber} (${n[i].Product.ProductType.Name} - ${n[i].Product.Name})  <br />`;return t}},{data:"HasDefect",searchable:!0,orderable:!0,render:function(n,t,i){var r="";return i.HasDefect===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input" type="checkbox" disabled ${r}></div>`}},{data:"IsDeleted",searchable:!0,orderable:!0,render:function(n,t,i){var r="";return i.IsDeleted===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input" type="checkbox" disabled ${r}></div>`}},{data:"Action",searchable:!1,orderable:!1,render:function(n,t,i){var r=`<a href="${i.Action.Edit}" class="text-primary">Edit</a> `;return r=r+`<a href="${i.Action.Details}" class="text-primary">Details</a> `,i.IsDeleted?r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Restore}" data-name="${i.Name}">Restore</a>`:r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Delete}" data-name="${i.Name}">Delete</a>`}}],i=$("#dtBundle").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"Bundle/LoadTable",type:"POST"},layout:{topEnd:null},columns:n}),$("#dtBundle thead tr").after("<tr>"),t=0,$("#dtBundle thead th").each(function(){var i=$("#dtBundle thead th").eq($(this).index()).text();n[t].searchable?n[t].data.includes("IsDeleted")||n[t].data.includes("HasDefect")?$("#dtBundle thead tr:last").append(`<th><div class="form-check"><input class="form-check-input" type="checkbox" id="searchCheckbox"></div></th>`):n[t].data.includes("Date")?$("#dtBundle thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${i}" /></th>`):$("#dtBundle thead tr:last").append(`<th><input type="search" placeholder="Search ${i}" /></th>`):$("#dtBundle thead tr:last").append(`<th></th>`);t++}),$("#dtBundle thead th:last").after("<\/tr>"),i.columns().every(function(n){var i=this,t=$(`#dtBundle thead tr:last th:eq(${n}) input`);if(t.is("#searchCheckbox"))t.on("click",function(){i.search(this.checked).draw()});else if(t.is("#searchDate"))t.on("change",function(){i.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()});else t.on("keyup clear",function(){i.search(this.value).draw()})}))});$(document).ready(function(){var n,i,t;$("#dtUnit").length!==0&&(n=[{data:"InventoryNumber",searchable:!0,orderable:!0},{data:"Product.ProductType.Name",searchable:!0,orderable:!0},{data:"Product.Manufacturer.Name",searchable:!0,orderable:!0},{data:"Product.Name",searchable:!0,orderable:!0},{data:"SerialNumber",searchable:!0,orderable:!0},{data:"Location.Name",searchable:!0,orderable:!0},{data:"DefaultLocation.Name",searchable:!0,orderable:!0},{data:"ShelfNumber",searchable:!0,orderable:!0},{data:"PartOfBundle.Name",searchable:!0,orderable:!0,defaultContent:""},{data:"Notes",searchable:!0,orderable:!0},{data:"Vendor.Name",searchable:!0,orderable:!0,defaultContent:""},{data:"LastTransferTime",searchable:!0,orderable:!0,render:function(n){return n?luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT"):null}},{data:"LastCheckTime",searchable:!0,orderable:!0,render:function(n){return n?luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT"):null}},{data:"HasDefect",searchable:!0,orderable:!0,render:function(n,t,i){var r="";return i.HasDefect===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input" type="checkbox" disabled ${r}></div>`}},{data:"IsDeleted",searchable:!0,orderable:!0,render:function(n,t,i){var r="";return i.IsDeleted===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input" type="checkbox" disabled ${r}></div>`}},{data:"Action",searchable:!1,orderable:!1,render:function(n,t,i){var r=`<a href="${i.Action.Edit}" class="text-primary">Edit</a> `;return r=r+`<a href="${i.Action.Details}" class="text-primary">Details</a> `,i.IsDeleted?r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Restore}" data-name="${i.Name}">Restore</a>`:r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Delete}" data-name="${i.Name}">Delete</a>`}}],i=$("#dtUnit").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"Unit/LoadTable",type:"POST"},layout:{topEnd:null},columns:n}),$("#dtUnit thead tr").after("<tr>"),t=0,$("#dtUnit thead th").each(function(){var i=$("#dtUnit thead th").eq($(this).index()).text();n[t].searchable?n[t].data.includes("IsDeleted")||n[t].data.includes("HasDefect")?$("#dtUnit thead tr:last").append(`<th><div class="form-check"><input class="form-check-input" type="checkbox" id="searchCheckbox"></div></th>`):n[t].data.includes("Date")?$("#dtUnit thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${i}" /></th>`):$("#dtUnit thead tr:last").append(`<th><input type="search" placeholder="Search ${i}" /></th>`):$("#dtUnit thead tr:last").append(`<th></th>`);t++}),$("#dtUnit thead th:last").after("<\/tr>"),i.columns().every(function(n){var i=this,t=$(`#dtUnit thead tr:last th:eq(${n}) input`);if(t.is("#searchCheckbox"))t.on("click",function(){i.search(this.checked).draw()});else if(t.is("#searchDate"))t.on("change",function(){i.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()});else t.on("keyup clear",function(){i.search(this.value).draw()})}))});$(document).ready(function(){if($("#dtDefect").length!==0)var n=[{data:"DefectNumber",searchable:!0,orderable:!0},{data:"Unit.InventoryNumber",searchable:!0,orderable:!0},{data:"Unit.Product.Manufacturer.Name",searchable:!0,orderable:!0},{data:"Unit.Product.Name",searchable:!0,orderable:!0},{data:"Unit.Product.ProductType.Name",searchable:!0,orderable:!0},{data:"Unit.Location.Name",searchable:!0,orderable:!0},{data:"State",searchable:!0,orderable:!0,render:function(n){switch(n){case 1:return"Broken";case 2:return"In repair";case 3:return"Repaired";default:"Unknown"}}},{data:"Description",searchable:!0,orderable:!0},{data:"ReportedByUser.UserName",searchable:!0,orderable:!0},{data:"CausedByUser.UserName",searchable:!0,orderable:!0},{data:"CreatedDate",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"ModifiedDate",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"Action",searchable:!1,orderable:!1,render:function(n,t,i){var r=`<a href="${i.Action.Edit}" class="text-primary">Edit</a> `;return r=r+`<a href="${i.Action.Details}" class="text-primary">Details</a> `,i.IsDeleted?r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Restore}" data-name="${i.Name}">Restore</a>`:r+`<a href="#" class="text-primary" data-toggle="modal" data-target="#deleteRestoreModal" data-url="${i.Action.Delete}" data-name="${i.Name}">Delete</a>`}}],t=$("#dtDefect").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"Defect/LoadTable",type:"POST"},layout:{topEnd:null},initComplete:function(){$("#dtDefect thead tr").after("<tr>");var i=0;$("#dtDefect thead th").each(function(){var t=$("#dtDefect thead th").eq($(this).index()).text();n[i].searchable&&t!="State"?n[i].data.includes("IsDeleted")?$("#dtDefect thead tr:last").append(`<th><div class="form-check"><input class="form-check-input" type="checkbox" id="searchCheckbox"></div></th>`):n[i].data.includes("Date")?$("#dtDefect thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${t}" /></th>`):$("#dtDefect thead tr:last").append(`<th><input type="search" placeholder="Search ${t}" /></th>`):$("#dtDefect thead tr:last").append(`<th></th>`);i++});$("#dtDefect thead th:last").after("<\/tr>");t.columns().every(function(n){var i=this,t=$(`#dtDefect thead tr:last th:eq(${n}) input`);if(t.is("#searchCheckbox"))t.on("click",function(){i.search(this.checked).draw()});else if(t.is("#searchDate"))t.on("change",function(){i.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()});else t.on("keyup clear",function(){i.search(this.value).draw()})});this.api().columns(6).every(function(){var n=this,t=$('<select><option value="">Show all<\/option><\/select>').appendTo($(`#dtDefect thead tr:nth-child(2) th:nth-child(7)`)).on("change",function(){n.search($(this).val(),{exact:!0}).draw()}),i=["Broken","In repair","Repaired"];n.data().unique().sort().each(function(n){t.append('<option value="'+n+'">'+i[n]+"<\/option>")})})},columns:n})});$(document).ready(function(){if($("#dtTransfer").length!==0)var n=[{data:"MainTransfer.TransferNumber",searchable:!0,orderable:!0},{data:"MainTransfer.TransferTime",searchable:!0,orderable:!0,render:function(n){return luxon.DateTime.fromISO(n,{zone:"utc"}).toLocal().toFormat("dd.LL.yyyy TT")}},{data:"MainTransfer.State",searchable:!0,orderable:!0,render:function(n){switch(n){case 1:return"Prepared";case 2:return"Transfered";default:"Unknown"}}},{data:"MainTransfer.User.UserName",searchable:!0,orderable:!0,render:function(n){const t=n.split("@");return t[0]}},{data:"OriginLocation.Name",searchable:!0,orderable:!0},{data:"DestinationLocation.Name",searchable:!0,orderable:!0},{data:"UnitBundleView.InventoryNumber",searchable:!0,orderable:!0,render:function(n,t,i){return i.BundleId==null?i.Unit.InventoryNumber:i.Bundle.InventoryNumber}},{data:"Action",searchable:!1,orderable:!1,render:function(n,t,i){return`<a href="${i.Action.Details}" class="text-primary">Details</a>`}}],t=$("#dtTransfer").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"Transfer/LoadTable",type:"POST"},layout:{topEnd:null},initComplete:function(){$("#dtTransfer thead tr").after("<tr>");var i=0;$("#dtTransfer thead th").each(function(){var t=$("#dtTransfer thead th").eq($(this).index()).text();n[i].searchable&&t!="Transfer State"?n[i].data.includes("IsDeleted")?$("#dtTransfer thead tr:last").append(`<th><div class="form-check"><input class="form-check-input" type="checkbox"></div></th>`):n[i].data.includes("Date")?$("#dtTransfer thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${t}" /></th>`):$("#dtTransfer thead tr:last").append(`<th><input type="search" placeholder="Search ${t}" /></th>`):$("#dtTransfer thead tr:last").append(`<th></th>`);i++});$("#dtTransfer thead th:last").after("<\/tr>");t.columns().every(function(n){var i=this,t=$(`#dtTransfer thead tr:last th:eq(${n}) input`);if(t.is("#searchCheckbox"))t.on("click",function(){i.search(this.checked).draw()});else if(t.is("#searchDate"))t.on("change",function(){i.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()});else t.on("keyup clear",function(){i.search(this.value).draw()})});this.api().columns(2).every(function(){var n=this,t=$('<select><option value="">Select all<\/option><\/select>').appendTo($(`#dtTransfer thead tr:nth-child(2) th:nth-child(3)`)).on("change",function(){n.search($(this).val(),{exact:!0}).draw()});n.data().unique().sort().each(function(n){t.append('<option value="'+n+'">'+n+"<\/option>")})})},columns:n})});$(document).ready(function(){var n,i,t;if($("#dtCreateTransfer").length!==0){n=[{data:"InventoryNumber",searchable:!0,orderable:!0},{data:"Unit.Product.Name",searchable:!0,orderable:!0},{data:"Bundle.BundledUnits",searchable:!0,orderable:!1,render:function(n){var t="";for(const i in n)t=t+`${n[i].InventoryNumber} (${n[i].Product.ProductType.Name} - ${n[i].Product.Name})  <br />`;return t}},{data:"Location.Name",searchable:!0,orderable:!0},{data:"DefaultLocation.Name",searchable:!0,orderable:!0},{data:"HasDefect",searchable:!0,orderable:!0,render:function(n,t,i){var r="";return i.HasDefect===!0&&(r="checked"),`<div class="form-check"><input class="form-check-input" type="checkbox" disabled ${r}></div>`}},];i=$("#dtCreateTransfer").DataTable({paging:!1,processing:!0,serverSide:!0,ajax:{url:"/Transfer/LoadUnitBundleView",type:"POST"},layout:{topEnd:null},columns:n});$("#dtCreateTransfer thead tr").after("<tr>");t=0;$("#dtCreateTransfer thead th").each(function(){var i=$("#dtCreateTransfer thead th").eq($(this).index()).text();n[t].searchable?n[t].data.includes("IsDeleted")||n[t].data.includes("HasDefect")?$("#dtCreateTransfer thead tr:last").append(`<th><div class="form-check"><input class="form-check-input" type="checkbox"></div></th>`):n[t].data.includes("Date")?$("#dtCreateTransfer thead tr:last").append(`<th><input type="datetime-local" id="searchDate" placeholder="Search ${i}" /></th>`):$("#dtCreateTransfer thead tr:last").append(`<th><input type="search" placeholder="Search ${i}" /></th>`):$("#dtCreateTransfer thead tr:last").append(`<th></th>`);t++});$("#dtCreateTransfer thead th:last").after("<\/tr>");i.columns().every(function(n){var i=this,t=$(`#dtCreateTransfer thead tr:last th:eq(${n}) input`);if(t.is("#searchCheckbox"))t.on("click",function(){i.search(this.checked).draw()});else if(t.is("#searchDate"))t.on("change",function(){i.search(luxon.DateTime.fromISO(this.value).toUTC().toString()).draw()});else t.on("keyup clear",function(){i.search(this.value).draw()})});$("#dtCreateTransfer tbody").on("click","tr",function(){$(this).toggleClass("selected")});$('input[name="btnCreateTransfer"]').click(function(){var n=i.rows(".selected").data(),t=[];for(let i=0;i<n.length;++i){const r=n[i];t.push(r)}$("#selectedRows").val(JSON.stringify(t))})}});